<!DOCTYPE html>
<html lang="fr">

	<head>
		<meta charset="utf-8">
		<title>GÃ©nÃ©rateur de critique e-sidoc</title>
		<style type="text/css">
			.fontweight100{
				font-weight: 100;
			}
			.question-titre{
				font-weight: bold;
			}
			.question-bloc{
				padding-bottom: 1.5em;
			}
			.astuce{
				font-size: 0.9em;
				margin-top: -0.5em;
			}
			.chapitre{
				margin-top: 2em;
			}
			#critique{
				margin-bottom: 20px;
			}
		</style>
		<link rel="stylesheet" href="https://frontend.esidoc.fr/libs/twitter-bootstrap/css/bootstrap.min.css" type="text/css"/>
		<link rel="stylesheet" href="https://backend.esidoc.fr/libs/font-awesome/css/font-awesome.min.css" type="text/css"/>
		<link rel="stylesheet" href="https://frontend.esidoc.fr/css/all.min.css" type="text/css"/>
		<link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />

		<script src="https://frontend.esidoc.fr/libs/jquery/jquery.min.js?ver=1583172060000"></script>
		<script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
		<script src="https://frontend.esidoc.fr/libs/twitter-bootstrap/js/bootstrap.min.js?ver=acbc186d"></script>
		
		
		<!--
		<script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="widget/citation" src="https://frontend.esidoc.fr/js/esidoc/widget/citation.js?ver=acbc186d"></script>
		-->
	</head>
	<body>
		<article>
			<!-- <div class="container-fluid chapitre">
				<p>La critique littÃ©raire vise Ã  <strong>relever les qualitÃ©s et les dÃ©fauts</strong> dâ€™un livre. Faire une critique, câ€™est <strong>justifier de maniÃ¨re convaincante et personnelle son opinion</strong>. Câ€™est aussi un moyen de <strong>partager son avis</strong> avec dâ€™autres.</p>
				<p>En t'identifiant, via PCN, tu peux poster tes critiques sur les livres du CDI !</p>
			</div> -->
			
		<form id="generateur-critique">
			<div class="container-fluid chapitre">
				<h2 class="title">I - PrÃ©sentation du livre</h2>
				
				<div class="row question-bloc">
					<label for="txt_titre"><div class="question-titre">Quel est le titre du livre ?</div></label>
					<input  id="txt_titre" type="text" class="form-control" placeholder="Titre du livre">
				</div>

				<div class="row question-bloc">
					<label for="txt_auteur"><div class="question-titre">Qui est l'auteur du livre ?</div></label>
					<input  id="txt_auteur" type="text" class="form-control" placeholder="Nom de l'auteur">
				</div>
			  
				<div class="row question-bloc">
					<label for="livre">
						<div class="question-titre">De quel type de livre s'agit-il ?</div>
					    <select id="livre" class="form-control select2-single">
					    	<option></option>
					    	<option value="un album">album</option>
					    	<option value="une bandes-dessinÃ©es">bandes-dessinÃ©es</option>
					    	<option value="un conte">conte</option>
					    	<option value="un manga">manga</option>
					    	<option value="une piÃ¨ce de thÃ©Ã¢tre">thÃ©Ã¢tre</option>
					    	<option value="un recueil de poÃ©sie">recueil de poÃ©sie</option>
					    	<option value="un roman">roman</option>
					    </select>
					</label>
				</div>

				<div class="row question-bloc">
					<label for="genre">
						<div class="question-titre">Quel est le genre de fiction ?</div>
					    <select id="genre" class="form-control select2-multiple" title="Tu peux Ã©crire un autre genre si il n'est pas dans la liste" data-toggle="tooltip" data-placement="right" multiple>
					    	<option value="animalier">animalier</option>
					    	<option value="amour">amour</option>
					    	<option value="biographique">biographique</option>
					    	<option value="fantastique">fantastique</option>
					    	<option value="historique">historique</option>
					    	<option value="horreur">horreur</option>
					    	<option value="humoristique">humoristique</option>
					    	<option value="merveilleux">merveilleux</option>
					    	<option value="policier">policier</option>
					    	<option value="science-fiction">science-fiction</option>
					    	<option value="sociÃ©tÃ©">sociÃ©tÃ©</option>
					    </select>
					</label>
				</div>

				<div class="row question-bloc">
					<label for="theme">
						<div class="question-titre">Quel est le thÃ¨me de fiction ?</div>
					    <select id="theme" class="form-control select2-multiple" title="Tu peux Ã©crire un autre thÃ¨me si il n'est pas dans la liste" data-toggle="tooltip" data-placement="right" multiple>
					    	<option value="d'amitiÃ©">l'amitiÃ© </option>
					    	<option value="d'amour">l'amour</option>
					    	<option value="des diffÃ©rences">les diffÃ©rences </option>
					    	<option value="d'Ã©cologie">l'Ã©cologie  </option>
					    	<option value="d'exil">l'exil</option>
					    	<option value="de lafamille">la famille</option>
					    	<option value="de laguerre">la guerre</option>
					    	<option value="deharcÃ¨lement">le harcÃ¨lement</option>
					    	<option value="de la maladie">la maladie</option>
					    	<option value="de mensonge">le mensonge </option>
					    	<option value="de secret">les secrets</option>
					    	<option value="de sport">le sport </option>
					    	<option value="de voyages">les voyages</option>
					    </select>
					</label>
				</div>

				<div class="row question-bloc">
					<label for="txt_resume">
						<div class="question-titre">RÃ©sume l'histoire en une ou deux phrases.</div>
						<div class="form-text text-muted astuce">Pense Ã  rÃ©pondre aux questions QUI ?, QUOI ?, POURQUOI ?, QUAND ? et OÃ™ ?, quand c'est prÃ©cisÃ© dans l'histoire.</div>
					</label>
					<textarea rows="3" id="txt_resume" class="form-control"></textarea>
				</div>

			</div>

			<div class="container-fluid chapitre">
				<h2>II - Avis argumentÃ©</h2>

				<div class="row question-bloc">
					<label for="emotion">
						<div class="question-titre">Qu'as-tu ressenti Ã  la lecture ?</div>
					    <select id="emotion" class="form-control select2-single">
					    	<option></option>
					    	<option value="effrayante">ðŸ˜± de la peur</option>
					    	<option value="joyeuse">ðŸ˜ƒ de la joie</option>
					    	<option value="enrageante">ðŸ˜  de la colÃ¨re</option>
					    	<option value="triste">ðŸ˜¥ de la tristesse</option>
					    </select>
					</label>
				</div>

				<form name="justifemo">
					<label for="txt_justifemo"><div class="question-titre">Pourquoi as-tu ressenti cette Ã©motion ?</div></label>
					<div class="form-text text-muted astuce">Continue la phrase : car&hellip;</div>
					<textarea cols="65" rows="2" id="txt_justifemo" class="form-control">car </textarea>
					<br><br>
				 </form>
				 
				 <form name="avis">
					<div class="question-titre">Quel est ton avis sur ce livre ?</div>
					<input type="radio" name="avis" value="J'ai dÃ©testÃ©" /><i class="fa fa-star"></i><i class="fa fa-star-o"></i>â˜†â˜†â˜†    
					<input type="radio" name="avis" value="Je n'ai pas aimÃ©" />â˜…â˜…â˜†â˜†â˜†    
				    <input type="radio" name="avis" value="J'ai aimÃ©" />â˜…â˜…â˜…â˜†â˜†    
					<input type="radio" name="avis" value="J'ai beaucoup aimÃ©" />â˜…â˜…â˜…â˜…â˜†    
					<input type="radio" name="avis" value="J'ai adorÃ©" />â˜…â˜…â˜…â˜…â˜…    
					<br><br>
				</form>
				<form name="histoire">
					<div class="question-titre">Comment peux-tu qualifier l'histoire ?</div>
					<input type="radio" name="histoire" value="pleine d'actions" />pleine d'actions    
					<input type="radio" name="histoire" value="captivante" />captivante    
					<input type="radio" name="histoire" value="confuse" />confuse (difficile Ã  comprendre)<br>
					<input type="radio" name="histoire" value="dÃ©paysante" />dÃ©paysante    
					<input type="radio" name="histoire" value="drÃ´le" />drÃ´le    
				    <input type="radio" name="histoire" value="Ã©mouvante" />Ã©mouvante    
					<input type="radio" name="histoire" value="ennuyeuse" />ennuyeuse    
					<input type="radio" name="histoire" value="instructive" />instructive<br>
					<input type="radio" name="histoire" value="intrigante" />intrigante    
					<input type="radio" name="histoire" value="originale" />originale    
					<input type="radio" name="histoire" value="pathÃ©tique" />pathÃ©tique    
				    <input type="radio" name="histoire" value="poÃ©tique" />poÃ©tique    
				    <input type="radio" name="histoire" value="rÃ©aliste" />rÃ©aliste<br>
					<input type="radio" name="histoire" value="rÃ©voltante" />rÃ©voltante    
					<input type="radio" name="histoire" value="surprenante" />surprenante    
					<input type="radio" name="histoire" value="pleine de suspense" />pleine de suspense<br>
					<input type="radio" name="histoire" value="[prÃ©cisions sur la faÃ§on dont tu qualifierais l'histoire]" />autre [Ã  prÃ©ciser dans la critique]
					<br><br>
				  </form>
				  
				<form name="ecriture">
				<div class="question-titre">Que penses-tu de la faÃ§on dont est Ã©crite l'histoire ?</div>
					<input type="radio" name="ecriture" value="court" />peu de pages    
					<input type="radio" name="ecriture" value="aux nombreuses pages" />beaucoup de pages    
				    <input type="radio" name="ecriture" value="au vocabulaire difficile Ã  comprendre" />vocabulaire compliquÃ©<br>
					<input type="radio" name="ecriture" value="facile Ã  comprendre" />facile Ã  comprendre    
					<input type="radio" name="ecriture" value="bien Ã©crit" />bien Ã©crite    
					<input type="radio" name="ecriture" value="au style original" />style original<br>
					<input type="radio" name="ecriture" value="[prÃ©cisions sur la faÃ§on dont est Ã©crite l'histoire]" />autre [Ã  prÃ©ciser dans la critique]    
					<br><br>
				</form>
				  
				<form name="recommandation">
				<div class="question-titre">Recommanderais-tu ce livre ?</div>
					<input type="radio" name="recommandation" value="est un chef d'oeuvre !" />un chef d'oeuvre !    
					<input type="radio" name="recommandation" value="est Ã  ne pas rater !" />Ã  ne pas rater !    
				    <input type="radio" name="recommandation" value="est Ã  lire absolument" />Ã  lire absolument !<br>
					<input type="radio" name="recommandation" value="se dÃ©vore d'une traite !" />Ã  dÃ©vorer !    
					<input type="radio" name="recommandation" value="est impossible Ã  lÃ¢cher !" />impossible Ã  lÃ¢cher !    
					<input type="radio" name="recommandation" value="invite Ã  la rÃªverie." />une invitation Ã  la rÃªverie<br>
				    <input type="radio" name="recommandation" value="permet de passer un bon moment." />un bon moment Ã  passer    
					<input type="radio" name="recommandation" value="offre une lecture sympathique." />une lecture sympathique<br>	
					<input type="radio" name="recommandation" value="est Ã  laisser sur l'Ã©tagÃ¨re." />Ã  laisser sur l'Ã©tagÃ¨re    
					<input type="radio" name="recommandation" value="est sans intÃ©rÃªt." />sans intÃ©rÃªt    
					<input type="radio" name="recommandation" value="tombe des mains." />tombe des mains    
					<br><br>
				</form>
				 
				<form name="critique">
					
					<button type="button" id="generer" class="btn btn-success" value="GÃ©nÃ©rer la critique" aria-label="Left Align">
				  		<span aria-hidden="true"><i class="fa fa-check"></i> GÃ©nÃ©rer la critique</span>
				    </button>
					
					<!--
					<input type="button" class="btn btn-primary" onclick="document.forms[0].reset();document.forms[1].reset();document.forms[2].reset();document.forms[3].reset();document.forms[4].reset();document.forms[5].reset();document.forms[6].reset();document.forms[7].reset();document.forms[8].reset();document.forms[9].reset();document.forms[10].reset();document.forms[11].reset();document.forms[12].reset();" value="RÃ©tablir les valeurs par defaut" />
					-->

					<button type="button" id="reset" class="btn btn-primary" value="RÃ©tablir les valeurs par defaut" aria-label="Left Align">
				  		<span aria-hidden="true"><i class="fa fa-undo"></i> RÃ©tablir les valeurs par defaut</span>
				    </button>

			</div>
			<div class="container-fluid chapitre">
				<h2>III - Personnalisation</h2>

				<div class="alert alert-info" role="alert">
					<h4 class="alert-heading"><i class="fa fa-exclamation-circle"></i> Avant de copier la critique :</h4>
					<ul>
						<li>relis-la et corrige les Ã©ventuelles coquilles</li>
						<li>enrichis-la en ajoutant d'autres Ã©lÃ©ments personnels.</li>
					</ul>
				</div>
				  
				<textarea id="critique" cols="65" rows="10" readonly class="form-control"></textarea>
</form>
</form><!-- mon form -->
				<div id="copy-alert" class="alert alert-success alert-dismissible" role="alert">
					<button id="copy-close" type="button" class="close" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
					Texte copiÃ© !
				</div>

				<button type="button" id="copy" class="btn btn-default citation-copy">
					<i class="fa fa-copy" aria-hidden="true"></i> Copier le texte
				</button>

			</div>
		</article>

	<script type="text/javascript">

		function getMyValue(myValue){
		//alert($("#livre option:selected").text());
		// alert($("#txt_titre").val());
		  var val = document.forms[myValue];
		  var txt = "";
		  var i;
		  for (i = 0; i < val.length; i++) {
		    if (val[i].checked) {
		      txt = txt + val[i].value + " ";
		    }
		  }
		  return txt;
		}

		function myCritic() {
		var txt_livre=getMyValue("livre");
		var txt_genre=getMyValue("genre");
		var txt_theme=getMyValue("theme");
		var txt_emotion=getMyValue("emotion");
		var txt_avis=getMyValue("avis");
		var txt_qualifhist=getMyValue("histoire");
		var txt_ecriture=getMyValue("ecriture");
		var txt_recomm=getMyValue("recommandation");

		  document.getElementById("critique").value = document.getElementById("txt_titre").value + ", Ã©crit par " + document.getElementById("txt_auteur").value + ", est " + txt_livre + txt_genre + "qui parle " + txt_theme + ". " + document.getElementById("txt_resume").value + " L'histoire est " + txt_emotion + " " + document.getElementById("txt_justifemo").value + ". " + txt_avis + " lire ce livre, car j'ai trouvÃ© l'histoire " + txt_qualifhist + ". Ce livre " + txt_ecriture + " " + txt_recomm ;
		}

		function raz(){
			$("#generateur-critique")[0].reset(); //reset form, ne semble fonctionner que sur les inputs
			$('textarea').val(null); //reset les textarea
			$('.select2-single').val(null).trigger('change');// reset select simple
			$('.select2-multiple').val(null).trigger('change');// reset select multiple
		}

		function copy(){
		    document.querySelector("#critique").select();
		    document.execCommand("copy");
		    $("#copy-alert").show();
		}

		$('#copy-close').on('click', function() {
			$("#copy-alert").hide(); 
		});

		$("#generer").click(function(){
		  myCritic();
		});

		$("#reset").click(function(){
		  raz();
		});

		$("#copy").click(function(){
		  copy();
		});

		$(document).ready(function() {
			//cache l'alerte texte copiÃ©
			$("#copy-alert").hide();

			//liste de sÃ©lection simple
		    $('.select2-single').select2({
			  placeholder: 'Choisis une option'
			});

			//liste de sÃ©lection multiple
			$('.select2-multiple').select2({
			  tags: true,
			  width: 'resolve',
			  allowClear: true,
			  placeholder: 'Choisis une ou plusieurs options'
			});

			//ajout des tooltips pour les listes de sÃ©lections
			$(".select2-container").tooltip({
		    title: function() {
		        return $(this).prev().attr("title");
		    },
		    placement: "right"
			});
		});

	</script>
</body>
